# ============================================================================
# CLINICAL RESEARCH CREW - Environment Configuration
# ============================================================================
# Copy this file to .env and fill in your actual values

# ============================================================================
# API KEYS
# ============================================================================

# Anthropic API Key (required for Claude models)
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# LangSmith (optional, for tracing and debugging)
LANGSMITH_API_KEY=your_langsmith_api_key_here
LANGCHAIN_TRACING_V2=true
LANGCHAIN_PROJECT=clinical-research-crew

# OpenAI API Key (optional, if using OpenAI models)
OPENAI_API_KEY=your_openai_api_key_here

# ============================================================================
# PUBMED CONFIGURATION
# ============================================================================

# PubMed API Key (optional, for higher rate limits)
# Get one at: https://www.ncbi.nlm.nih.gov/account/settings/
PUBMED_API_KEY=

# PubMed email (required by NCBI for tool identification)
PUBMED_EMAIL=your_email@example.com

# ============================================================================
# RAG SYSTEM CONFIGURATION
# ============================================================================

# Path to knowledge bases (relative to project root)
KNOWLEDGE_BASE_PATH=./knowledge_bases

# Embeddings model for RAG
# Options: sentence-transformers/all-MiniLM-L6-v2 (fast, lightweight)
#          sentence-transformers/all-mpnet-base-v2 (better quality)
#          BAAI/bge-base-en-v1.5 (good general purpose)
EMBEDDINGS_MODEL=sentence-transformers/all-MiniLM-L6-v2

# Vector store backend
# Options: chromadb, faiss
VECTOR_STORE=chromadb

# ChromaDB persistence directory
CHROMADB_PERSIST_DIRECTORY=./chromadb_data

# Number of documents to retrieve per RAG query
RAG_TOP_K=3

# ============================================================================
# MEDICAL SYSTEM CONFIGURATION
# ============================================================================

# Enable/disable PubMed literature search
ENABLE_PUBMED_SEARCH=true

# Enable/disable clinical calculators (GFR, BMI, CHADS2-VASc, etc.)
ENABLE_CLINICAL_CALCULATORS=true

# Maximum number of specialists to consult per case
MAX_SPECIALISTS_PER_CONSULTATION=5

# Minimum evidence level required for recommendations
# Options: A (high quality), B (moderate quality), C (low quality)
MIN_EVIDENCE_LEVEL=C

# Require specialists to cite evidence sources
REQUIRE_CITATIONS=true

# ============================================================================
# MODEL CONFIGURATION
# ============================================================================

# General Practitioner (coordinator) model
# Format: provider/model-name
# Examples: 
#   - anthropic/claude-3-5-sonnet-20241022 (recommended)
#   - openai/gpt-4-turbo
#   - openai/gpt-4o
GENERAL_PRACTITIONER_MODEL=anthropic/claude-3-5-sonnet-20241022

# Specialist models
SPECIALIST_MODEL=anthropic/claude-3-5-sonnet-20241022

# Temperature for specialist models (0.0-1.0, lower = more precise)
SPECIALIST_TEMPERATURE=0.1

# Maximum tokens for model responses
RESEARCH_MODEL_MAX_TOKENS=10000
COMPRESSION_MODEL_MAX_TOKENS=8192
FINAL_REPORT_MODEL_MAX_TOKENS=10000

# ============================================================================
# AVAILABLE SPECIALTIES
# ============================================================================
# Comma-separated list of specialties to enable
# Available: cardiology, pharmacology, neurology, emergency, gynecology,
#            internal_medicine, surgery, nutrition, prevention, epidemiology
AVAILABLE_SPECIALTIES=cardiology,pharmacology,neurology,emergency,gynecology,internal_medicine,surgery,nutrition,prevention,epidemiology

# ============================================================================
# PERFORMANCE CONFIGURATION
# ============================================================================

# Maximum number of concurrent specialist consultations
MAX_CONCURRENT_RESEARCH_UNITS=5

# Maximum number of consultation iterations (GP reflection cycles)
MAX_RESEARCHER_ITERATIONS=6

# Maximum number of tool calls per specialist
MAX_REACT_TOOL_CALLS=10

# Maximum number of retries for structured output
MAX_STRUCTURED_OUTPUT_RETRIES=3

# ============================================================================
# SEARCH API CONFIGURATION
# ============================================================================

# Search API for web research (if needed)
# Options: tavily, anthropic, openai, none
SEARCH_API=none

# Tavily API Key (optional, if using Tavily search)
TAVILY_API_KEY=

# ============================================================================
# LANGRAPH STUDIO CONFIGURATION
# ============================================================================

# Port for LangGraph Studio (default: 8123)
LANGGRAPH_STUDIO_PORT=8123

# Enable debug mode
DEBUG=false

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log file location
LOG_FILE=./logs/clinical_crew.log

# ============================================================================
# NOTES
# ============================================================================
#
# 1. REQUIRED FIELDS:
#    - ANTHROPIC_API_KEY (or OPENAI_API_KEY if using OpenAI models)
#    - PUBMED_EMAIL
#
# 2. RECOMMENDED SETUP:
#    - Enable LANGSMITH for debugging during development
#    - Start with default embeddings model (all-MiniLM-L6-v2)
#    - Keep ENABLE_PUBMED_SEARCH and ENABLE_CLINICAL_CALCULATORS enabled
#
# 3. PRODUCTION CONSIDERATIONS:
#    - Use stronger embeddings model for better RAG quality
#    - Adjust MAX_CONCURRENT_RESEARCH_UNITS based on API rate limits
#    - Set REQUIRE_CITATIONS=true for evidence-based practice
#    - Consider HIPAA compliance if handling real patient data
#
# 4. KNOWLEDGE BASE SETUP:
#    - Run: python scripts/initialize_knowledge_bases.py
#    - Add your medical documents to specialty directories
#    - See knowledge_bases/README.md for details
#
# ============================================================================
